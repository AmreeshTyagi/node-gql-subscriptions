{"version":3,"sources":["../../src/server/routes.js"],"names":["app","use","get","req","res","json","name","process","env","NAME","environment","NODE_ENV","resources","next","err","Error","status","message"],"mappings":";;;;;;AAAA;;;;;;kBAEe,UAACA,GAAD,EAAS;AACtBA,MAAIC,GAAJ,CAAQ,iBAAR;;AAEAD,MAAIE,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBA,QAAIC,IAAJ,CAAS;AACPC,YAAMC,QAAQC,GAAR,CAAYC,IADX;AAEPC,mBAAaH,QAAQC,GAAR,CAAYG,QAFlB;AAGPC,iBAAW,CACT,gBADS;AAHJ,KAAT;AAOD,GARD;;AAUA;AACAZ,MAAIC,GAAJ,CAAQ,UAACE,GAAD,EAAMC,GAAN,EAAWS,IAAX,EAAoB;AAC1B,QAAMC,MAAM,IAAIC,KAAJ,CAAU,WAAV,CAAZ;AACAD,QAAIE,MAAJ,GAAa,GAAb;AACAH,SAAKC,GAAL;AACD,GAJD;;AAMA;AACAd,MAAIC,GAAJ,CAAQ,UAACa,GAAD,EAAMX,GAAN,EAAWC,GAAX,EAAgBS,IAAhB,EAAyB;AAC/BT,QAAIY,MAAJ,CAAWF,IAAIE,MAAJ,IAAc,GAAzB;AACAZ,QAAIC,IAAJ,CAAS;AACPY,eAASH,IAAIG,OADN;AAEPD,cAAQF,IAAIE,MAAJ,IAAc;AAFf,KAAT;AAID,GAND;AAOD,C","file":"routes.js","sourcesContent":["import devices from '../modules/devices';\n\nexport default (app) => {\n  app.use('/api/v1/devices', devices);\n\n  app.get('/', (req, res) => {\n    res.json({\n      name: process.env.NAME,\n      environment: process.env.NODE_ENV,\n      resources: [\n        '/api/v1/device',\n      ],\n    });\n  });\n\n  // catch 404 and forward to error handler\n  app.use((req, res, next) => {\n    const err = new Error('Not Found');\n    err.status = 404;\n    next(err);\n  });\n\n  // error handler\n  app.use((err, req, res, next) => {\n    res.status(err.status || 500);\n    res.json({\n      message: err.message,\n      status: err.status || 500,\n    });\n  });\n};\n"]}