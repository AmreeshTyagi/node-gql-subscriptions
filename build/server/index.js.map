{"version":3,"sources":["../../src/server/index.js"],"names":["PORT","parseInt","process","env","WS_PORT","WS_SERVER_HOST","app","set","use","schema","endpointURL","subscriptionsEndpoint"],"mappings":";;;;;;AAAA;;;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA,IAAMA,OAAOC,SAASC,QAAQC,GAAR,CAAYH,IAAZ,IAAoB,MAA7B,EAAqC,EAArC,CAAb;AACA,IAAMI,UAAUH,SAASC,QAAQC,GAAR,CAAYC,OAAZ,IAAuB,MAAhC,EAAwC,EAAxC,CAAhB;AACA,IAAMC,iBAAiBH,QAAQC,GAAR,CAAYE,cAAZ,IAA8B,WAArD;AACA,IAAMC,MAAM,wBAAZ;AACAA,IAAIC,GAAJ,CAAQ,MAAR,EAAgBP,IAAhB;;AAEA,2BAAiBM,GAAjB;;AAEAA,IAAIE,GAAJ,CAAQ,UAAR,EAAoB,0CAAe;AACjCC;AADiC,CAAf,CAApB;;AAIAH,IAAIE,GAAJ,CAAQ,WAAR,EAAqB,2CAAgB;AACnCE,eAAa,UADsB;AAEnCC,mCAA+BN,cAA/B,SAAiDD,OAAjD;AAFmC,CAAhB,CAArB;;AAKA,sBAAYE,GAAZ;;kBAEe,4BAAaA,GAAb,C","file":"index.js","sourcesContent":["import express from 'express';\nimport { graphqlExpress, graphiqlExpress } from 'graphql-server-express';\n\nimport createServer from '../config/createServer';\nimport applyMiddlewares from './middlewares';\nimport applyRoutes from './routes';\n\nimport { schema } from '../graphql';\n\nconst PORT = parseInt(process.env.PORT || '3000', 10);\nconst WS_PORT = parseInt(process.env.WS_PORT || '3001', 10);\nconst WS_SERVER_HOST = process.env.WS_SERVER_HOST || 'localhost';\nconst app = express();\napp.set('port', PORT);\n\napplyMiddlewares(app);\n\napp.use('/graphql', graphqlExpress({\n  schema,\n}));\n\napp.use('/graphiql', graphiqlExpress({\n  endpointURL: '/graphql',\n  subscriptionsEndpoint: `ws://${WS_SERVER_HOST}:${WS_PORT}/subscriptions`,\n}));\n\napplyRoutes(app);\n\nexport default createServer(app);\n"]}