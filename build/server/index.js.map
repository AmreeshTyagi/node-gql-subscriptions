{"version":3,"sources":["../../src/server/index.js"],"names":["SERVER_PORT","parseInt","process","env","WS_SERVER_PORT","WS_SERVER_HOST","app","set","use","schema","endpointURL","subscriptionsEndpoint"],"mappings":";;;;;;AAAA;;;;AACA;;AAEA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA,IAAMA,cAAcC,SAASC,QAAQC,GAAR,CAAYH,WAAZ,IAA2B,MAApC,EAA4C,EAA5C,CAApB;AACA,IAAMI,iBAAiBH,SAASC,QAAQC,GAAR,CAAYC,cAAZ,IAA8B,MAAvC,EAA+C,EAA/C,CAAvB;AACA,IAAMC,iBAAiBH,QAAQC,GAAR,CAAYE,cAAZ,IAA8B,WAArD;AACA,IAAMC,MAAM,wBAAZ;AACAA,IAAIC,GAAJ,CAAQ,MAAR,EAAgBP,WAAhB;;AAEA,2BAAiBM,GAAjB;;AAEAA,IAAIE,GAAJ,CAAQ,UAAR,EAAoB,0CAAe;AACjCC;AADiC,CAAf,CAApB;;AAIAH,IAAIE,GAAJ,CAAQ,WAAR,EAAqB,2CAAgB;AACnCE,eAAa,UADsB;AAEnCC,mCAA+BN,cAA/B,SAAiDD,cAAjD;AAFmC,CAAhB,CAArB;;AAKA,sBAAYE,GAAZ;;kBAEe,4BAAaA,GAAb,C","file":"index.js","sourcesContent":["import express from 'express';\nimport { graphqlExpress, graphiqlExpress } from 'graphql-server-express';\n\nimport createServer from '../config/createServer';\nimport applyMiddlewares from './middlewares';\nimport applyRoutes from './routes';\n\nimport { schema } from '../graphql';\n\nconst SERVER_PORT = parseInt(process.env.SERVER_PORT || '3000', 10);\nconst WS_SERVER_PORT = parseInt(process.env.WS_SERVER_PORT || '3001', 10);\nconst WS_SERVER_HOST = process.env.WS_SERVER_HOST || 'localhost';\nconst app = express();\napp.set('port', SERVER_PORT);\n\napplyMiddlewares(app);\n\napp.use('/graphql', graphqlExpress({\n  schema,\n}));\n\napp.use('/graphiql', graphiqlExpress({\n  endpointURL: '/graphql',\n  subscriptionsEndpoint: `ws://${WS_SERVER_HOST}:${WS_SERVER_PORT}/subscriptions`,\n}));\n\napplyRoutes(app);\n\nexport default createServer(app);\n"]}