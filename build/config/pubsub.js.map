{"version":3,"sources":["../../src/config/pubsub.js"],"names":["process","env","REDIS_HOST","REDIS_PORT","REDIS_PASSWORD","pubsub","connection","host","port","password","connectionListener","error","console","exit","log"],"mappings":";;;;;;;AAAA;;mBAEmDA,QAAQC,G;IAAnDC,U,gBAAAA,U;IAAYC,U,gBAAAA,U;IAAYC,c,gBAAAA,c;AAEzB,IAAMC,0BAAS,2CAAgB;AACpCC,cAAY;AACVC,UAAML,UADI;AAEVM,UAAML,UAFI;AAGVM,cAAUL;AAHA,GADwB;AAMpCM,sBAAoB,4BAACC,KAAD,EAAW;AAC7B,QAAIA,KAAJ,EAAW;AACTC,cAAQD,KAAR,CAAc,2BAAd,EAA2CA,KAA3C;AACAX,cAAQa,IAAR,CAAa,CAAb;AACD;AACDD,YAAQE,GAAR,gCAAyCZ,UAAzC,SAAuDC,UAAvD;AACD;AAZmC,CAAhB,CAAf","file":"pubsub.js","sourcesContent":["import { RedisPubSub } from 'graphql-redis-subscriptions';\n\nconst { REDIS_HOST, REDIS_PORT, REDIS_PASSWORD } = process.env;\n\nexport const pubsub = new RedisPubSub({\n  connection: {\n    host: REDIS_HOST,\n    port: REDIS_PORT,\n    password: REDIS_PASSWORD,\n  },\n  connectionListener: (error) => {\n    if (error) {\n      console.error('Error connecting to redis', error);\n      process.exit(1);\n    }\n    console.log(`Connected to redis PUBSUB ${REDIS_HOST}:${REDIS_PORT}`);\n  },\n});\n"]}